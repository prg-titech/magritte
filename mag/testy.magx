==== constants
0 put
1 hello
2 jneen
3 2
==== symbols
0 x
1 y
2 put
3 get
4 take
==== code
main:
  collection
  env
  closure @put-0-1
  collect
  index 0
  current-env
  swap
  let 2
  collection
  env
  closure @get-0-1
  collect
  index 0
  current-env
  swap
  let 3
  current-env
  env-extend
  channel
  env-pipe 0 0
  spawn @pipe-lhs-1
  frame @pipe-rhs-1
  return
crash-1:
  crash
put-0-1:         mag/testy.mag@3:1~3:26
  dup
  index 1
  current-env
  swap
  let 0
  dup
  index 2
  current-env
  swap
  let 1
  collection
  intrinsic 2
  collect
  current-env
  ref 0
  ref-get
  collect
  current-env
  ref 1
  ref-get
  collect
  invoke
  return
lambda-1:        mag/testy.mag@3:1~3:26
  jump @put-0-1
crash-2:
  crash
get-0-1:         mag/testy.mag@4:1~4:14
  collection
  intrinsic 3
  collect
  invoke
  return
lambda-2:        mag/testy.mag@4:1~4:14
  jump @get-0-1
pipe-lhs-1:
  collection
  const 0
  collect
  const 1
  collect
  const 2
  collect
  invoke
  return
pipe-rhs-1:
  collection
  intrinsic 4
  collect
  const 3
  collect
  invoke
  return
